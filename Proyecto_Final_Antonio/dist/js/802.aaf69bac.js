"use strict";(self["webpackChunkproyecto_final_antonio"]=self["webpackChunkproyecto_final_antonio"]||[]).push([[802],{1802:function(e,t,a){a.r(t),a.d(t,{default:function(){return G}});var o=a(6768),l=a(5130),r=a(4232);const s={id:"parte_izq",class:"md:w-[50%] h-full p-4"},d=(0,o.Lk)("h1",{class:"text-[#14c458] text-3xl"},"Métodos de pago",-1),c={class:"flex flex-col gap-4"},n=(0,o.Lk)("p",{class:"my-2"},"Seleccione método de pago",-1),i=["onClick"],m={class:"w-[30%]"},u=["src"],p={class:"w-[30%] h-full flex items-center justify-end"},h={key:0,class:"fa-solid fa-circle-check text-[#14c458] md:text-2xl"},b={key:0,id:"form_tarjeta",class:""},x=(0,o.Lk)("h1",{class:"text-[#14c458] my-2"},"Tarjeta",-1),f={class:"w-full md:flex"},g={class:"md:flex md:flex-col md:justify-center md:w-[50%] md:pl-8"},w=(0,o.Lk)("p",null,"Número de tarjeta",-1),k=(0,o.Lk)("label",{class:"text-sm italic mt-1 mb-2 text-gray-500"},[(0,o.Lk)("i",{class:"fa-solid fa-circle-info"}),(0,o.eW)(" Consta de 16 dígitos sin espacios")],-1),_=(0,o.Lk)("p",null,"Fecha de caducidad",-1),v=["min"],L=(0,o.Lk)("p",null,"Código CCV de tarjeta",-1),y=(0,o.Lk)("label",{class:"text-sm italic mt-1 mb-2 text-gray-500"},[(0,o.Lk)("i",{class:"fa-solid fa-circle-info"}),(0,o.eW)(" Consta de 3 dígitos")],-1),j={id:"parte_der_resumen",class:"md:w-[50%] h-full p-4"},C=(0,o.Lk)("h1",{class:"text-[#14c458] text-lg md:text-3xl mb-4"},"Resumen de la compra",-1),E={class:"w-full text-sm md:text-base"},X=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",{class:"w-full flex justify-between bg-teal-400 rounded-md p-2 md:p-4"},[(0,o.Lk)("th",{class:"w-[35%] text-start"},"Nombre"),(0,o.Lk)("th",{class:"w-[20%] text-start"},"Cocción"),(0,o.Lk)("th",{class:"w-[20%] text-end"},"Precio")])],-1),A={class:"mt-2 mb-4 flex flex-col gap-2 max-h-[58vh] overflow-scroll no-scrollbar"},F={class:"w-[35%]"},V={class:"w-[20%]"},I={class:"w-[20%] text-teal-400 text-end"},S={class:"border-t"},T={class:"bg-blend-lighten hover:bg-blend-darken flex justify-between text-xl font-bold p-2 md:p-4"},J=(0,o.Lk)("th",null,"Total",-1),M={class:"text-[#14c458]"},P=(0,o.Lk)("button",{type:"submit",class:"text-white w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 bg-gradient-to-br from-[#14c458] to-teal-400 my-6 ml-6"},"Pagar",-1);function U(e,t,a,U,$,Q){const q=(0,o.g2)("CardAtroposVue");return(0,o.uX)(),(0,o.CE)("form",{onSubmit:t[5]||(t[5]=(0,l.D$)(((...e)=>Q.pagar_final&&Q.pagar_final(...e)),["prevent"])),class:"bg-[#111015] h-auto min-h-[100vh] md:h-[100vh] text-white flex flex-col md:flex-row"},[(0,o.Lk)("div",s,[d,(0,o.Lk)("div",c,[n,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.metodos_pago,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,onClick:t=>Q.cambiarMetodoPago(e),class:"border flex items-center justify-between h-[15vh] md:h-[10vh] md:w-[30vw] py-4 px-6 rounded-lg bg-[#22222a] hover:border-[#14c458]"},[(0,o.Lk)("p",m,(0,r.v_)(e.nombre),1),(0,o.Lk)("img",{src:e.logo,class:"w-[40%] md:w-[5vw]"},null,8,u),(0,o.Lk)("div",p,[$.metodo_pago.nombre==e.nombre?((0,o.uX)(),(0,o.CE)("i",h)):(0,o.Q3)("",!0)])],8,i)))),128))]),"Tarjeta"==$.metodo_pago.nombre?((0,o.uX)(),(0,o.CE)("div",b,[x,(0,o.Lk)("div",f,[(0,o.bF)(q),(0,o.Lk)("div",g,[w,k,(0,o.bo)((0,o.Lk)("input",{type:"tel","onUpdate:modelValue":t[0]||(t[0]=e=>$.num_tarjeta=e),pattern:"[0-9]*",minlength:"16",maxlength:"16",placeholder:"xxxx xxxx xxxx xxxx",class:"p-1 rounded-md w-[90%] md:w-[90%] bg-[#111015] border border-[#14c458] mb-2"},null,512),[[l.Jo,$.num_tarjeta]]),_,(0,o.bo)((0,o.Lk)("input",{type:"month","onUpdate:modelValue":t[1]||(t[1]=e=>$.fecha_cad_tarjeta=e),min:$.fecha_actual,class:"p-1 my-2 rounded-md w-[90%] md:w-[90%] bg-[#111015] border border-[#14c458]"},null,8,v),[[l.Jo,$.fecha_cad_tarjeta]]),L,y,(0,o.bo)((0,o.Lk)("input",{type:"tel","onUpdate:modelValue":t[2]||(t[2]=e=>$.cod_ccv=e),pattern:"[0-9]*",min:"0",max:"999",minlength:"3",maxlength:"3",placeholder:"xxx",class:"p-1 rounded-md w-[90%] md:w-[50%] bg-[#111015] border border-[#14c458] mb-2"},null,512),[[l.Jo,$.cod_ccv]])])])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",j,[C,(0,o.Lk)("table",E,[X,(0,o.Lk)("tbody",A,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.carrito,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id,class:"w-full flex items-center justify-between bg-[#22222a] rounded-md p-2 md:p-4"},[(0,o.Lk)("td",F,(0,r.v_)(e.nombre),1),(0,o.Lk)("td",V,(0,r.v_)(e.coccion),1),(0,o.Lk)("td",I,(0,r.v_)(e.precio)+" €",1)])))),128))]),(0,o.Lk)("tfoot",S,[(0,o.Lk)("tr",T,[J,(0,o.Lk)("td",M,(0,r.v_)(e.pago_total)+" €",1)])])]),(0,o.Lk)("div",null,["Tarjeta"==$.metodo_pago.nombre?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,type:"email",placeholder:"Email","onUpdate:modelValue":t[3]||(t[3]=e=>$.email=e),required:"",class:"p-2 md:mt-2 mt-6 rounded-md w-full md:w-[50%] bg-[#111015] border border-[#14c458]"},null,512)),[[l.Jo,$.email]]):(0,o.Q3)("",!0)]),(0,o.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>Q.volverInicio&&Q.volverInicio(...e)),class:"text-white w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 bg-slate-500 my-6"},"Cancelar"),P])],32)}a(4114);var $=a(782),Q=a(7411),q=a(4373);const D=["src"];function H(e,t,a,l,r,s){const d=(0,o.g2)("atropos-component");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(d,{class:"my-atropos","active-offset":"40","shadow-scale":"1.05"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{class:"w-[70vw] md:w-[20vw] mb-2",src:r.credit_card_img},null,8,D)])),_:1})])}var K=a(295),N={name:"CardAtroposVue",data(){return{credit_card_img:K}}},R=a(1241);const W=(0,R.A)(N,[["render",H]]);var z=W,B={components:{CardAtroposVue:z},data(){return{metodo_pago:{id:-1,nombre:"default"},num_tarjeta:null,fecha_cad_tarjeta:null,cod_ccv:null,fecha_actual:this.obtenerFechaActual(),email:null}},computed:{...(0,$.aH)(["metodos_pago","carrito","pago_total"])},setup(){const e=(0,Q.dj)();return{toast:e}},methods:{async pagar_final(){if("default"==this.metodo_pago.nombre)this.toast.warning("Selecciona método de pago");else if("Tarjeta"==this.metodo_pago.nombre)if(null!=this.num_tarjeta&&null!=this.fecha_cad_tarjeta&&null!=this.cod_ccv)try{const e=await q.A.post("/api/products/cart/sendBill",{destinatario:this.email,pago_total:this.pago_total}),t=e.data;"success"==t.estado?this.toast.success(t.mensaje,{timeout:2e3}):this.toast.warning(t.mensaje,{timeout:2e3})}catch(e){this.toast.error("Ha habido un error:",e)}else this.toast.warning("Rellena todos los campos correctamente");else window.location.href=this.metodo_pago.enlace_web},cambiarMetodoPago(e){this.metodo_pago=e},volverInicio(){this.$router.push({name:"inicio"})},obtenerFechaActual(){const e=new Date,t=e.getFullYear(),a=e.getMonth()+1;return`${t}-${a.toString().padStart(2,"0")}`}}};const Y=(0,R.A)(B,[["render",U]]);var G=Y}}]);
//# sourceMappingURL=802.aaf69bac.js.map