{"version":3,"file":"js/655.e428b63c.js","mappings":"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","sources":["webpack://proyecto_final_antonio/./src/views/ForgotPassView.vue","webpack://proyecto_final_antonio/./src/views/ForgotPassView.vue?9781"],"sourcesContent":["<template>\r\n  \r\n  <div>\r\n    <NavVue></NavVue>\r\n\r\n    <div class=\"bg-[#111015] text-white flex flex-col items-center pt-6 md:h-[85vh] min-h-[70vh] h-auto\">\r\n        <form v-if=\"estado_input == 'correo'\" @submit.prevent=\"enviar_mail\" class=\"md:w-[30vw] h-full w-[90vw] flex flex-col md:items-center md:gap-8 gap-6 mb-4\">\r\n            <p class=\"md:text-2xl text-xl\">Introduce tu correo</p>\r\n            <input type=\"email\" placeholder=\"Email\" v-model=\"email\" required class=\"p-2 rounded-md w-full bg-[#111015] border border-[#14c458]\">\r\n            <button type=\"submit\" class=\"bg-[#14c458] text-[#dadbdb] w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 shadow-md bg-gradient-to-br from-[#14c458] to-teal-400\">Enviar</button>\r\n        </form>\r\n        <form v-if=\"estado_input == 'token'\" @submit.prevent=\"enviar_token\" class=\"md:w-[30vw] h-full w-[90vw] flex flex-col md:items-center md:gap-8 gap-6 mb-4\">\r\n            <p class=\"md:text-2xl text-xl\">Introduce el token que te hemos enviado</p>\r\n            <input type=\"text\" placeholder=\"Token\" v-model=\"token_input\" required class=\"p-2 rounded-md w-full bg-[#111015] border border-[#14c458]\">\r\n            <button type=\"submit\" class=\"bg-[#14c458] text-[#dadbdb] w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 shadow-md bg-gradient-to-br from-[#14c458] to-teal-400\">Enviar</button>\r\n        </form>\r\n        <form v-if=\"estado_input == 'passwd'\" @submit.prevent=\"cambiar_pass\" class=\"md:w-[30vw] h-full w-[90vw] flex flex-col md:items-center md:gap-8 gap-6 mb-4\">\r\n            <p class=\"md:text-2xl text-xl\">Introduce tu nueva contraseña</p>\r\n            <input type=\"password\" placeholder=\"Contraseña\" v-model=\"new_password\" required minlength=\"8\" class=\"p-2 rounded-md w-full bg-[#111015] border border-[#14c458]\">\r\n            <p class=\"w-full text-sm italic\"><i class=\"fa-solid fa-circle-info\"></i> La contraseña que elijas debe tener al menos 8 caracteres</p>\r\n            <button type=\"submit\" class=\"bg-[#14c458] text-[#dadbdb] w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 shadow-md bg-gradient-to-br from-[#14c458] to-teal-400\">Enviar</button>\r\n        </form>\r\n    </div>\r\n\r\n    <FooterVue></FooterVue>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport NavVue from '@/components/NavVue.vue';\r\nimport FooterVue from '@/components/FooterVue.vue';\r\nimport { useToast } from \"vue-toastification\";\r\nimport axios from 'axios';\r\nexport default {\r\n    components: { NavVue, FooterVue },\r\n    data(){\r\n        return{\r\n            email: null,\r\n            token_input: null,\r\n            new_password: null,\r\n            estado_input: 'correo'\r\n        }\r\n    },\r\n    methods: {\r\n        async enviar_mail(){\r\n            try {\r\n                const res = await axios.post('/api/users/forgotPass',\r\n                    {\r\n                        destinatario: this.email,\r\n                    }\r\n                )\r\n\r\n                const datos = res.data\r\n\r\n                if(datos.estado == 'success'){\r\n                    this.toast.success(datos.mensaje, { timeout: 2000, });\r\n                    this.estado_input = 'token'\r\n                } else {\r\n                    this.toast.warning(datos.mensaje, { timeout: 2000, });\r\n                }\r\n            } catch (error) {\r\n                this.toast.error('Ha habido un error:', error);\r\n            }\r\n        },\r\n        async enviar_token(){\r\n            try {\r\n                const res = await axios.post('/api/users/verifyToken',\r\n                    {\r\n                        token: this.token_input\r\n                    }\r\n                )\r\n\r\n                const datos = res.data\r\n\r\n                if(datos.estado == 'success'){\r\n                    this.toast.success(datos.mensaje, { timeout: 2000, });\r\n                    this.estado_input = 'passwd'\r\n                } else {\r\n                    this.toast.warning(datos.mensaje, { timeout: 2000, });\r\n                }\r\n            } catch (error) {\r\n                this.toast.error('Ha habido un error:', error);\r\n            }\r\n        },\r\n        async cambiar_pass(){\r\n            try {\r\n                const res = await axios.post('/api/users/resetPass',\r\n                    {\r\n                        new_passw: this.new_password,\r\n                        user_mail: this.email\r\n                    }\r\n                )\r\n\r\n                const datos = res.data\r\n\r\n                if(datos.estado == 'success'){\r\n                    this.toast.success(datos.mensaje, { timeout: 2000, });\r\n                    this.$router.push( {name: 'inicio'} )\r\n                } else {\r\n                    this.toast.warning(datos.mensaje, { timeout: 2000, });\r\n                }\r\n            } catch (error) {\r\n                this.toast.error('Ha habido un error:', error);\r\n            }\r\n        },\r\n    },\r\n    setup() {\r\n      const toast = useToast();      \r\n      return { toast }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./ForgotPassView.vue?vue&type=template&id=0ebac9ea\"\nimport script from \"./ForgotPassView.vue?vue&type=script&lang=js\"\nexport * from \"./ForgotPassView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","_createTextVNode","_createElementBlock","_createVNode","_component_NavVue","_hoisted_1","$data","estado_input","key","onSubmit","_cache","_withModifiers","args","$options","enviar_mail","_hoisted_2","placeholder","$event","email","required","_hoisted_3","_createCommentVNode","enviar_token","_hoisted_4","token_input","_hoisted_5","cambiar_pass","_hoisted_6","new_password","minlength","_hoisted_7","_hoisted_8","_component_FooterVue","components","NavVue","FooterVue","data","methods","res","axios","post","destinatario","this","datos","estado","toast","success","mensaje","timeout","warning","error","token","new_passw","user_mail","$router","push","name","setup","useToast","__exports__","render"],"sourceRoot":""}