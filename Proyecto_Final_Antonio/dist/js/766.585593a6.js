"use strict";(self["webpackChunkproyecto_final_antonio"]=self["webpackChunkproyecto_final_antonio"]||[]).push([[766],{766:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var o=a(6768),s=a(5130);const r={class:"bg-[#111015] text-white flex flex-col items-center pt-6 md:h-[85vh] min-h-[70vh] h-auto"},n=(0,o.Lk)("p",{class:"md:text-2xl text-xl"},"Introduce tu correo",-1),i=(0,o.Lk)("button",{type:"submit",class:"bg-[#14c458] text-[#dadbdb] w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 shadow-md bg-gradient-to-br from-[#14c458] to-teal-400"},"Enviar",-1),d=(0,o.Lk)("p",{class:"md:text-2xl text-xl"},"Introduce el token que te hemos enviado",-1),l=(0,o.Lk)("button",{type:"submit",class:"bg-[#14c458] text-[#dadbdb] w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 shadow-md bg-gradient-to-br from-[#14c458] to-teal-400"},"Enviar",-1),u=(0,o.Lk)("p",{class:"md:text-2xl text-xl"},"Introduce tu nueva contraseña",-1),c=(0,o.Lk)("p",{class:"w-full text-sm italic"},[(0,o.Lk)("i",{class:"fa-solid fa-circle-info"}),(0,o.eW)(" La contraseña que elijas debe tener al menos 8 caracteres")],-1),m=(0,o.Lk)("button",{type:"submit",class:"bg-[#14c458] text-[#dadbdb] w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 shadow-md bg-gradient-to-br from-[#14c458] to-teal-400"},"Enviar",-1);function p(e,t,a,p,h,b){const w=(0,o.g2)("NavVue"),v=(0,o.g2)("FooterVue");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(w),(0,o.Lk)("div",r,["correo"==h.estado_input?((0,o.uX)(),(0,o.CE)("form",{key:0,onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>b.enviar_mail&&b.enviar_mail(...e)),["prevent"])),class:"md:w-[30vw] h-full w-[90vw] flex flex-col md:items-center md:gap-8 gap-6 mb-4"},[n,(0,o.bo)((0,o.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>h.email=e),required:"",minlength:"5",maxlength:"30",class:"p-2 rounded-md w-full bg-[#111015] border border-[#14c458]"},null,512),[[s.Jo,h.email]]),i],32)):(0,o.Q3)("",!0),"token"==h.estado_input?((0,o.uX)(),(0,o.CE)("form",{key:1,onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>b.enviar_token&&b.enviar_token(...e)),["prevent"])),class:"md:w-[30vw] h-full w-[90vw] flex flex-col md:items-center md:gap-8 gap-6 mb-4"},[d,(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Token","onUpdate:modelValue":t[2]||(t[2]=e=>h.token_input=e),required:"",minlength:"5",maxlength:"400",class:"p-2 rounded-md w-full bg-[#111015] border border-[#14c458]"},null,512),[[s.Jo,h.token_input]]),l],32)):(0,o.Q3)("",!0),"passwd"==h.estado_input?((0,o.uX)(),(0,o.CE)("form",{key:2,onSubmit:t[5]||(t[5]=(0,s.D$)(((...e)=>b.cambiar_pass&&b.cambiar_pass(...e)),["prevent"])),class:"md:w-[30vw] h-full w-[90vw] flex flex-col md:items-center md:gap-8 gap-6 mb-4"},[u,(0,o.bo)((0,o.Lk)("input",{type:"password",placeholder:"Contraseña","onUpdate:modelValue":t[4]||(t[4]=e=>h.new_password=e),required:"",minlength:"8",maxlength:"30",class:"p-2 rounded-md w-full bg-[#111015] border border-[#14c458]"},null,512),[[s.Jo,h.new_password]]),c,m],32)):(0,o.Q3)("",!0)]),(0,o.bF)(v)])}a(4114);var h=a(6565),b=a(7640),w=a(7411),v=a(4373),x={components:{NavVue:h.A,FooterVue:b.A},data(){return{email:null,token_input:null,new_password:null,estado_input:"correo"}},methods:{async enviar_mail(){try{const e=await v.A.post("/api/users/forgotPass",{destinatario:this.email}),t=e.data;"success"==t.estado?(this.toast.success(t.mensaje,{timeout:2e3}),this.estado_input="token"):this.toast.warning(t.mensaje,{timeout:2e3})}catch(e){this.toast.error("Ha habido un error:",e)}},async enviar_token(){try{const e=await v.A.post("/api/users/verifyToken",{token:this.token_input}),t=e.data;"success"==t.estado?(this.toast.success(t.mensaje,{timeout:2e3}),this.estado_input="passwd"):this.toast.warning(t.mensaje,{timeout:2e3})}catch(e){this.toast.error("Ha habido un error:",e)}},async cambiar_pass(){try{const e=await v.A.post("/api/users/resetPass",{new_passw:this.new_password,user_mail:this.email}),t=e.data;"success"==t.estado?(this.toast.success(t.mensaje,{timeout:2e3}),this.$router.push({name:"inicio"})):this.toast.warning(t.mensaje,{timeout:2e3})}catch(e){this.toast.error("Ha habido un error:",e)}}},setup(){const e=(0,w.dj)();return{toast:e}}},f=a(1241);const k=(0,f.A)(x,[["render",p]]);var g=k}}]);
//# sourceMappingURL=766.585593a6.js.map