"use strict";(self["webpackChunkproyecto_final_antonio"]=self["webpackChunkproyecto_final_antonio"]||[]).push([[834],{6565:function(e,r,l){l.d(r,{A:function(){return ne}});var t=l(6768),o=l.p+"img/logo_v_3.c72115ea.png";const s={class:"bg-[#14c458] text-white text-lg font-bold tracking-widest w-full h-[10vh] flex items-center justify-between"},a=(0,t.Lk)("i",{class:"fa-solid fa-bars"},null,-1),i=[a],c={key:0,id:"menu_hamburguesa",class:"bg-[#111015] absolute top-0 w-full h-[100vh] flex flex-col gap-2 pl-4 z-10"},n={class:"w-full flex justify-end p-2"},d={id:"nav_izq",class:"w-[60vw] h-full md:flex hidden items-center justify-around"},u=(0,t.Lk)("div",{class:"h-full flex items-center"},[(0,t.Lk)("img",{src:o,class:"h-[80%]"})],-1),p={id:"nav_der",class:"w-[30vw] border-l-black h-full flex items-center justify-evenly"},_={key:0,id:"register_sesion",class:"hidden md:flex items-center hover:bg-green-400 p-2 rounded-md cursor-pointer text-sm"},m=(0,t.Lk)("i",{class:"fa-solid fa-user-plus ml-3"},null,-1),f={key:1,id:"login_sesion",class:"hidden md:flex items-center hover:bg-green-400 p-2 rounded-md cursor-pointer text-sm"},g=(0,t.Lk)("i",{class:"fa-solid fa-user ml-3"},null,-1),h=(0,t.Lk)("span",null,"Perfil",-1),v=(0,t.Lk)("i",{class:"fa-solid fa-user-gear ml-3"},null,-1),b=[h,v],k=(0,t.Lk)("span",null,"Cerrar sesión",-1),x=(0,t.Lk)("i",{class:"fa-solid fa-right-to-bracket ml-3"},null,-1),w=[k,x];function L(e,r,l,o,a,h){const v=(0,t.g2)("router-link"),k=(0,t.g2)("CartVue");return(0,t.uX)(),(0,t.CE)("nav",s,[(0,t.Lk)("p",{onClick:r[0]||(r[0]=e=>h.toogleMenuHam()),class:"flex md:hidden cursor-pointer text-xl ml-8"},i),a.burger_menu_open?((0,t.uX)(),(0,t.CE)("div",c,[(0,t.Lk)("div",n,[(0,t.Lk)("i",{onClick:r[1]||(r[1]=e=>h.toogleMenuHam()),class:"fa-solid fa-xmark cursor-pointer text-3xl text-red-500"})]),(0,t.bF)(v,{to:"/",class:""},{default:(0,t.k6)((()=>[(0,t.eW)("Inicio")])),_:1}),(0,t.bF)(v,{to:"/politica",class:""},{default:(0,t.k6)((()=>[(0,t.eW)("Política de privacidad")])),_:1}),(0,t.bF)(v,{to:"/contacto",class:""},{default:(0,t.k6)((()=>[(0,t.eW)("Contacto")])),_:1}),-1==e.user_logueado?((0,t.uX)(),(0,t.Wv)(v,{key:0,to:"/register",class:""},{default:(0,t.k6)((()=>[(0,t.eW)("Registrarse")])),_:1})):(0,t.Q3)("",!0),-1==e.user_logueado?((0,t.uX)(),(0,t.Wv)(v,{key:1,to:"/login",class:""},{default:(0,t.k6)((()=>[(0,t.eW)("Iniciar sesión")])),_:1})):(0,t.Q3)("",!0),-1!=e.user_logueado?((0,t.uX)(),(0,t.Wv)(v,{key:2,to:`/perfil/${e.user_logueado.id}`,class:""},{default:(0,t.k6)((()=>[(0,t.eW)("Perfil")])),_:1},8,["to"])):(0,t.Q3)("",!0),-1!=e.user_logueado?((0,t.uX)(),(0,t.CE)("p",{key:3,onClick:r[2]||(r[2]=e=>h.logout())},"Cerrar sesión")):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),(0,t.Lk)("div",d,[u,(0,t.bF)(v,{to:"/",class:"hover:text-black hover:underline hover:underline-offset-4"},{default:(0,t.k6)((()=>[(0,t.eW)("Inicio")])),_:1}),(0,t.bF)(v,{to:"/politica",class:"hover:text-black hover:underline hover:underline-offset-4"},{default:(0,t.k6)((()=>[(0,t.eW)("Política de privacidad")])),_:1}),(0,t.bF)(v,{to:"/contacto",class:"hover:text-black hover:underline hover:underline-offset-4"},{default:(0,t.k6)((()=>[(0,t.eW)("Contacto")])),_:1})]),(0,t.Lk)("div",p,[(0,t.bF)(k),a.burger_menu_open||-1!=e.user_logueado?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",_,[(0,t.bF)(v,{to:"/register",class:""},{default:(0,t.k6)((()=>[(0,t.eW)("Registrarse")])),_:1}),m])),a.burger_menu_open||-1!=e.user_logueado?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",f,[(0,t.bF)(v,{to:"/login",class:""},{default:(0,t.k6)((()=>[(0,t.eW)("Iniciar sesión")])),_:1}),g])),a.burger_menu_open||-1==e.user_logueado?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",{key:2,onClick:r[3]||(r[3]=e=>h.ir_a_perfil()),class:"hidden md:flex items-center hover:bg-green-400 p-2 rounded-md cursor-pointer text-sm"},b)),a.burger_menu_open||-1==e.user_logueado?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",{key:3,onClick:r[4]||(r[4]=e=>h.logout()),class:"hidden md:flex items-center hover:bg-green-400 p-2 rounded-md cursor-pointer text-sm"},w))])])}l(4114);var C=l(4232);const y=(0,t.Lk)("i",{class:"fa-solid fa-cart-shopping text-xl"},null,-1),E={class:"absolute top-0 r-0 text-sm bg-teal-700 rounded-full px-1"},F={key:0,id:"cart_contenido",class:"absolute top-[11vh] md:right-[12vw] right-0 md:w-[40vw] md:h-[60vh] w-full max-h-[89vh] flex flex-col items-center gap-2 border-2 border-[#14c458] bg-[#111015] rounded-md px-4 pt-4 z-10"},A={class:"w-full flex justify-end text-red-500"},j=(0,t.Lk)("i",{class:"fa-solid fa-xmark"},null,-1),W=[j],X={id:"div_productos",class:"h-[50vh] overflow-y-scroll no-scrollbar flex flex-col gap-2"},O={key:0,class:"text-base"},T=["src"],M={class:"md:w-[35%] w-[48%] flex flex-col justify-center h-full pl-4 gap-2"},V={class:"md:text-sm text-xs"},P={class:"md:text-sm text-xs text-teal-400"},Q={class:"md:w-[25%] w-[35%]"},R=["onChange"],G=(0,t.Lk)("option",{value:"Al punto",class:"bg-[#22222a]",disabled:"",selected:""},"Cocción",-1),H=(0,t.Lk)("option",{value:"Poco hecha",class:"bg-[#22222a]"},"Poco hecha",-1),N=(0,t.Lk)("option",{value:"Al punto",class:"bg-[#22222a]"},"Al punto",-1),I=(0,t.Lk)("option",{value:"Muy hecha",class:"bg-[#22222a]"},"Muy hecha",-1),$=[G,H,N,I],q={class:"md:w-[20%] w-[17%] h-full flex items-center justify-center"},K=["onClick"],Y=(0,t.Lk)("i",{class:"fa-solid fa-trash-can"},null,-1),z=[Y],S={class:"w-full flex flex-col md:flex-row items-center justify-between bottom-0 sticky bg-[#111015] pb-4 md:pt-2"},U={class:"text-sm md:text-xl font-bold md:w-[45%] w-full md:pl-4 py-2 md:py-0"},J={class:"text-[#14c458]"},B={class:"md:w-[50%] w-full flex justify-end gap-2"},D=(0,t.Lk)("i",{class:"hidden fa-regular fa-circle-xmark ml-2"},null,-1),Z=(0,t.Lk)("i",{class:"fa-regular fa-circle-check ml-2"},null,-1);function ee(e,r,l,o,s,a){return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",{onClick:r[0]||(r[0]=e=>a.toogleCart()),id:"carrito_icono",class:"relative p-3 cursor-pointer"},[y,(0,t.Lk)("span",E,(0,C.v_)(a.num_prods_cart),1)]),s.cart_visible?((0,t.uX)(),(0,t.CE)("div",F,[(0,t.Lk)("div",A,[(0,t.Lk)("p",{onClick:r[1]||(r[1]=e=>a.toogleCart()),class:"cursor-pointer text-3xl hover:scale-110"},W)]),(0,t.Lk)("div",X,[0==a.num_prods_cart?((0,t.uX)(),(0,t.CE)("p",O,"Carrito vacío")):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.carrito,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:"w-full h-auto flex items-center bg-[#22222a] rounded-md py-2 md:py-0"},[(0,t.Lk)("img",{src:e.imagen,class:"w-[20%] hidden md:flex"},null,8,T),(0,t.Lk)("div",M,[(0,t.Lk)("span",V,(0,C.v_)(e.nombre),1),(0,t.Lk)("span",P,(0,C.v_)(e.precio)+" €",1)]),(0,t.Lk)("div",Q,[(0,t.Lk)("select",{onChange:r=>a.cambiar_coccion(e.id_cart_prod,r.target.value),class:"bg-transparent text-white text-sm"},$,40,R)]),(0,t.Lk)("div",q,[(0,t.Lk)("button",{onClick:r=>a.quitar_prod_cart(e.id_cart_prod),class:"text-red-500 border border-red-500 rounded-lg py-1 px-2 md:py-4 md:px-6 hover:border-2"},z,8,K)])])))),128))]),(0,t.Lk)("div",S,[(0,t.Lk)("p",U,[(0,t.eW)("Total: "),(0,t.Lk)("span",J,(0,C.v_)(a.calcular_precio_total)+" €",1)]),(0,t.Lk)("div",B,[(0,t.Lk)("button",{onClick:r[2]||(r[2]=(...e)=>a.vaciar_cart&&a.vaciar_cart(...e)),class:"w-[120px] h-[35px] text-sm md:text-base rounded-md cursor-pointer text-white hover:border hover:border-white-600 bg-slate-500"},[(0,t.eW)(" Vaciar"),D]),(0,t.Lk)("button",{onClick:r[3]||(r[3]=(...e)=>a.pagar&&a.pagar(...e)),class:"w-[160px] h-[35px] text-sm md:text-base rounded-md cursor-pointer text-white hover:border hover:border-white-600 bg-gradient-to-br from-[#14c458] to-teal-400"},[(0,t.eW)(" Confirmar"),Z])])])])):(0,t.Q3)("",!0)],64)}var re=l(7411),le=l(782),te={name:"CartVue",data(){return{cart_visible:!1}},computed:{...(0,le.aH)(["carrito"]),num_prods_cart(){return this.carrito.length},calcular_precio_total(){const e=this.carrito.reduce(((e,r)=>e+parseFloat(r.precio)),0);return parseFloat(e.toFixed(3))}},methods:{...(0,le.PY)(["REMOVE_FROM_CART","EMPTY_CART","SET_PAGO_TOTAL","CHANGE_COOKING"]),cambiar_coccion(e,r){this.CHANGE_COOKING({id_cart_prod:e,coccion:r})},quitar_prod_cart(e){this.REMOVE_FROM_CART(e)},vaciar_cart(){this.EMPTY_CART()},toogleCart(){this.cart_visible=!this.cart_visible},pagar(){this.num_prods_cart>0?(this.SET_PAGO_TOTAL(this.calcular_precio_total),this.$router.push({name:"pago",params:{id:1}})):this.toast.warning("No tienes productos en tu carrito")}},setup(){const e=(0,re.dj)();return{toast:e}}},oe=l(1241);const se=(0,oe.A)(te,[["render",ee]]);var ae=se,ie={name:"NavVue",components:{CartVue:ae},data(){return{burger_menu_open:!1}},computed:{...(0,le.aH)(["user_logueado"])},methods:{...(0,le.PY)(["LOGOUT"]),logout(){this.LOGOUT(),this.$router.push({name:"inicio"})},toogleMenuHam(){this.burger_menu_open=!this.burger_menu_open},ir_a_perfil(){this.$router.push({name:"perfil",params:{id:this.user_logueado.id}})}}};const ce=(0,oe.A)(ie,[["render",L]]);var ne=ce},2867:function(e,r,l){l.r(r),l.d(r,{default:function(){return M}});var t=l(6768),o=l(4232),s=l(5130);const a={class:"bg-[#111015] text-white flex flex-col items-center min-h-[90vh] w-full"},i={id:"perfil",class:"w-full h-[20vh] flex items-center p-2 bg-[#22222a]"},c=["src"],n={class:"ml-4"},d={class:"mt-4 p-2 md:flex md:flex-col"},u=(0,t.Lk)("label",null,"Expositor de recompensas",-1),p={id:"expositor",class:"w-full md:w-[30vw] h-auto flex items-center justify-evenly p-4 mb-4 mt-2 rounded-lg border border-[#14c458]"},_=(0,t.Lk)("label",null,"Foto de perfil",-1),m={id:"imgs_perfil",class:"w-full md:w-[30vw] h-auto flex items-center justify-evenly flex-wrap p-4 mb-4 mt-2 rounded-lg border border-[#14c458]"},f=["src"],g=["src"],h=["src"],v=["src"],b=["src"],k=(0,t.Lk)("label",null,"Nueva contraseña",-1);function x(e,r,l,x,w,L){const C=(0,t.g2)("NavVue"),y=(0,t.g2)("medal-atropos-vue-vue");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(C),(0,t.Lk)("div",a,[(0,t.Lk)("div",i,[(0,t.Lk)("img",{src:w.pfp_actual,class:"w-[30vw] h-[30vw] md:w-[7vw] md:h-[7vw] md:ml-6 rounded-full"},null,8,c),(0,t.Lk)("p",n,(0,o.v_)(e.user_logueado.email),1)]),(0,t.Lk)("div",d,[u,(0,t.Lk)("div",p,[(0,t.bF)(y,{medal_img:w.medal_src_1},null,8,["medal_img"]),(0,t.bF)(y,{medal_img:w.medal_src_2},null,8,["medal_img"]),(0,t.bF)(y,{medal_img:w.medal_src_3},null,8,["medal_img"]),(0,t.bF)(y,{medal_img:w.medal_src_4},null,8,["medal_img"])]),_,(0,t.Lk)("div",m,[(0,t.Lk)("img",{onClick:r[0]||(r[0]=e=>L.elegir_pfp(w.pfp_1_burger)),src:w.pfp_1_burger,class:"h-[70px] rounded-full cursor-pointer hover:border-2 hover:border-[#14c458]"},null,8,f),(0,t.Lk)("img",{onClick:r[1]||(r[1]=e=>L.elegir_pfp(w.pfp_2_spicy)),src:w.pfp_2_spicy,class:"h-[70px] rounded-full cursor-pointer hover:border-2 hover:border-[#14c458]"},null,8,g),(0,t.Lk)("img",{onClick:r[2]||(r[2]=e=>L.elegir_pfp(w.pfp_3_chef)),src:w.pfp_3_chef,class:"h-[70px] rounded-full cursor-pointer hover:border-2 hover:border-[#14c458]"},null,8,h),(0,t.Lk)("img",{onClick:r[3]||(r[3]=e=>L.elegir_pfp(w.pfp_4_fries)),src:w.pfp_4_fries,class:"h-[70px] rounded-full cursor-pointer hover:border-2 hover:border-[#14c458]"},null,8,v),(0,t.Lk)("img",{onClick:r[4]||(r[4]=e=>L.elegir_pfp(w.pfp_5_icecream)),src:w.pfp_5_icecream,class:"h-[70px] rounded-full cursor-pointer hover:border-2 hover:border-[#14c458]"},null,8,b)]),k,(0,t.bo)((0,t.Lk)("input",{type:"password",placeholder:"Contraseña","onUpdate:modelValue":r[5]||(r[5]=e=>w.password=e),minlength:"8",maxlength:"30",class:"p-2 rounded-md w-full md:w-[30vw] bg-[#111015] border border-[#14c458] my-2"},null,512),[[s.Jo,w.password]]),(0,t.Lk)("div",null,[(0,t.Lk)("button",{onClick:r[6]||(r[6]=(...e)=>L.cancelar_settings&&L.cancelar_settings(...e)),class:"text-white w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 bg-slate-500 my-8"},"Cancelar"),(0,t.Lk)("button",{onClick:r[7]||(r[7]=(...e)=>L.guardarCampos&&L.guardarCampos(...e)),class:"text-white w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600bl bg-gradient-to-br from-[#14c458] to-teal-400 ml-4"},"Guardar")])])])])}l(4114);var w=l(6565),L=l(782),C=l(4373),y=l(7411);const E=["src"];function F(e,r,l,o,s,a){const i=(0,t.g2)("atropos-component");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(i,null,{default:(0,t.k6)((()=>[(0,t.Lk)("img",{"data-atropos-offset":"0.5",src:l.medal_img,class:"h-[70px]"},null,8,E)])),_:1})])}var A={name:"MedalAtroposVue",props:{medal_img:{type:String,required:!0}}},j=l(1241);const W=(0,j.A)(A,[["render",F]]);var X=W,O={components:{MedalAtroposVueVue:X,NavVue:w.A},data(){return{password:null,direccion:null,medal_src_1:l(5783),medal_src_2:l(5148),medal_src_3:l(4565),medal_src_4:l(9898),pfp_actual:"",pfp_1_burger:"/profile_img/pfp_1_burger.jpg",pfp_2_spicy:"/profile_img/pfp_2_spicy.jpg",pfp_3_chef:"/profile_img/pfp_3_chef.jpg",pfp_4_fries:"/profile_img/pfp_4_fries.jpg",pfp_5_icecream:"/profile_img/pfp_5_icecream.jpg"}},computed:{...(0,L.aH)(["user_logueado"])},created(){this.pfp_actual=this.user_logueado.foto_perfil},methods:{async guardarCampos(){try{const e=await C.A.put("/api/users/perfil/settings",{id:this.user_logueado.id,pfp_actual:this.pfp_actual,password:this.password}),r=e.data;this.toast.success(r.mensaje),this.user_logueado.foto_perfil=this.pfp_actual,this.vaciarCampos()}catch(e){this.toast.error("Ha habido un error:",e)}},cancelar_settings(){this.password=null,this.pfp_actual=this.user_logueado.foto_perfil,this.$router.push({name:"inicio"})},elegir_pfp(e){this.pfp_actual=e}},setup(){const e=(0,y.dj)();return{toast:e}}};const T=(0,j.A)(O,[["render",x]]);var M=T},5783:function(e,r,l){e.exports=l.p+"img/medal_1.6f1aff7d.png"},5148:function(e,r,l){e.exports=l.p+"img/medal_2.3adbc014.png"},4565:function(e,r,l){e.exports=l.p+"img/medal_3.977ea0d1.png"},9898:function(e,r,l){e.exports=l.p+"img/medal_4.db386ee5.png"}}]);
//# sourceMappingURL=834.d9af75c9.js.map