"use strict";(self["webpackChunkproyecto_final_antonio"]=self["webpackChunkproyecto_final_antonio"]||[]).push([[655],{5655:function(e,t,o){o.r(t),o.d(t,{default:function(){return _}});var a=o(6768),s=o(5130);const r={class:"bg-[#111015] text-white flex flex-col items-center pt-6 md:h-[85vh] min-h-[70vh] h-auto"},n=(0,a.Lk)("p",{class:"md:text-2xl text-xl"},"Introduce tu correo",-1),i=(0,a.Lk)("button",{type:"submit",class:"bg-[#14c458] text-[#dadbdb] w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 shadow-md bg-gradient-to-br from-[#14c458] to-teal-400"},"Enviar",-1),d=(0,a.Lk)("p",{class:"md:text-2xl text-xl"},"Introduce el token que te hemos enviado",-1),u=(0,a.Lk)("button",{type:"submit",class:"bg-[#14c458] text-[#dadbdb] w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 shadow-md bg-gradient-to-br from-[#14c458] to-teal-400"},"Enviar",-1),l=(0,a.Lk)("p",{class:"md:text-2xl text-xl"},"Introduce tu nueva contraseña",-1),c=(0,a.Lk)("p",{class:"w-full text-sm italic"},[(0,a.Lk)("i",{class:"fa-solid fa-circle-info"}),(0,a.eW)(" La contraseña que elijas debe tener al menos 8 caracteres")],-1),m=(0,a.Lk)("button",{type:"submit",class:"bg-[#14c458] text-[#dadbdb] w-[120px] h-[35px] rounded-md cursor-pointer hover:border hover:border-white-600 shadow-md bg-gradient-to-br from-[#14c458] to-teal-400"},"Enviar",-1);function p(e,t,o,p,b,h){const w=(0,a.g2)("NavVue"),v=(0,a.g2)("FooterVue");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(w),(0,a.Lk)("div",r,["correo"==b.estado_input?((0,a.uX)(),(0,a.CE)("form",{key:0,onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>h.enviar_mail&&h.enviar_mail(...e)),["prevent"])),class:"md:w-[30vw] h-full w-[90vw] flex flex-col md:items-center md:gap-8 gap-6 mb-4"},[n,(0,a.bo)((0,a.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>b.email=e),required:"",class:"p-2 rounded-md w-full bg-[#111015] border border-[#14c458]"},null,512),[[s.Jo,b.email]]),i],32)):(0,a.Q3)("",!0),"token"==b.estado_input?((0,a.uX)(),(0,a.CE)("form",{key:1,onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>h.enviar_token&&h.enviar_token(...e)),["prevent"])),class:"md:w-[30vw] h-full w-[90vw] flex flex-col md:items-center md:gap-8 gap-6 mb-4"},[d,(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Token","onUpdate:modelValue":t[2]||(t[2]=e=>b.token_input=e),required:"",class:"p-2 rounded-md w-full bg-[#111015] border border-[#14c458]"},null,512),[[s.Jo,b.token_input]]),u],32)):(0,a.Q3)("",!0),"passwd"==b.estado_input?((0,a.uX)(),(0,a.CE)("form",{key:2,onSubmit:t[5]||(t[5]=(0,s.D$)(((...e)=>h.cambiar_pass&&h.cambiar_pass(...e)),["prevent"])),class:"md:w-[30vw] h-full w-[90vw] flex flex-col md:items-center md:gap-8 gap-6 mb-4"},[l,(0,a.bo)((0,a.Lk)("input",{type:"password",placeholder:"Contraseña","onUpdate:modelValue":t[4]||(t[4]=e=>b.new_password=e),required:"",minlength:"8",class:"p-2 rounded-md w-full bg-[#111015] border border-[#14c458]"},null,512),[[s.Jo,b.new_password]]),c,m],32)):(0,a.Q3)("",!0)]),(0,a.bF)(v)])}o(4114);var b=o(6565),h=o(7640),w=o(7411),v=o(4373),f={components:{NavVue:b.A,FooterVue:h.A},data(){return{email:null,token_input:null,new_password:null,estado_input:"correo"}},methods:{async enviar_mail(){try{const e=await v.A.post("/api/users/forgotPass",{destinatario:this.email}),t=e.data;"success"==t.estado?(this.toast.success(t.mensaje,{timeout:2e3}),this.estado_input="token"):this.toast.warning(t.mensaje,{timeout:2e3})}catch(e){this.toast.error("Ha habido un error:",e)}},async enviar_token(){try{const e=await v.A.post("/api/users/verifyToken",{token:this.token_input}),t=e.data;"success"==t.estado?(this.toast.success(t.mensaje,{timeout:2e3}),this.estado_input="passwd"):this.toast.warning(t.mensaje,{timeout:2e3})}catch(e){this.toast.error("Ha habido un error:",e)}},async cambiar_pass(){try{const e=await v.A.post("/api/users/resetPass",{new_passw:this.new_password,user_mail:this.email}),t=e.data;"success"==t.estado?(this.toast.success(t.mensaje,{timeout:2e3}),this.$router.push({name:"inicio"})):this.toast.warning(t.mensaje,{timeout:2e3})}catch(e){this.toast.error("Ha habido un error:",e)}}},setup(){const e=(0,w.dj)();return{toast:e}}},k=o(1241);const x=(0,k.A)(f,[["render",p]]);var _=x}}]);
//# sourceMappingURL=655.e428b63c.js.map